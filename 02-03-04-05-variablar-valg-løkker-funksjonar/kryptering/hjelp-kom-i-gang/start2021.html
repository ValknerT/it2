<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kryptering, oppstartshjelp 2021</title>
</head>
<body>
    <p>Sjå console.</p>

    <!-- Kode -->
    <script>
        // Strategi nr. 1
        const alfabet = "abcdefghijklmnopqrstuvwxyzæøåABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ,.-_!? "; // 
        //let posisjonTilBokstav = alfabet.indexOf("b");
        //console.log(posisjonTilBokstav);

        // Strategi nr. 2
        const alfabetArray = ["a", "b", "c", "d", "e"]; //... 
        let posisjonIArray = alfabetArray.indexOf("a");
        console.log(posisjonIArray);

        // Funksjon som returnerer den krypterte bokstaven (får inn original bokstav og krypteringsnøkkel)
        function krypterBokstav(originalBokstav, krypteringsnøkkel) {
            let posisjonTilBokstav = alfabet.indexOf(originalBokstav); // Plasseringen til den originale/ukrypterte bokstaven
            let nyPosisjon = posisjonTilBokstav + krypteringsnøkkel; // Plasseringen til den nye/krypterte bokstaven
            if (nyPosisjon >= alfabet.length) { // Handterer det at me kjem utanfor arrayen sin lengde (å -> undefined)
                nyPosisjon = nyPosisjon - alfabet.length;
            }
            let nyBokstav = alfabet[nyPosisjon]; // Kva den krypterte bokstaven faktisk er 
            
            //console.log("Du fekk inn bokstaven " + originalBokstav + ", og posisjonen til denne er " + posisjonTilBokstav + ".");
            //console.log("Den nye/krypterte bokstaven sin posisjon er: " +  nyPosisjon + ", og denne bokstaven er då: " + alfabet[nyPosisjon]);
            // Forenkla testutskrift:
            console.log(originalBokstav + " --> " + nyBokstav);

            return nyBokstav;
        }

        krypterBokstav("å",1);

        function dekrypterBokstav(originalBokstav, krypteringsnøkkel) {
            let posisjonTilBokstav = alfabet.indexOf(originalBokstav); // Plasseringen til den originale/ukrypterte bokstaven
            let nyPosisjon = posisjonTilBokstav - krypteringsnøkkel; // Plasseringen til den nye/krypterte bokstaven
            if (nyPosisjon < 0) { // Handterer det at me kjem utanfor arrayen sin lengde (å -> undefined)
                nyPosisjon = nyPosisjon + alfabet.length;
            }
            let nyBokstav = alfabet[nyPosisjon]; // Kva den krypterte bokstaven faktisk er 
            
            console.log(originalBokstav + " --> " + nyBokstav);
        }

        dekrypterBokstav("b",1);

        let melding = "abcheisann!";
        let kryptertMelding = "";

        for (let tegn of melding) {
            console.log(tegn);
            kryptertMelding += krypterBokstav(tegn,1);
        }

        document.write(kryptertMelding);
    </script>
</body>
</html>